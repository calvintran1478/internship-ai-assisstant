import{c as f,u as S,t as m,i as g,a as y,S as C,b as E,d as P}from"./index-Bg1ecEPQ.js";var T=m('<div class="flex justify-center items-center border-2 p-4 m-6 w-96 h-12"><p>'),j=m('<div class="flex justify-center items-center w-screen h-screen"><div class="flex flex-col items-center border-2 p-10"style=width:40rem;height:30rem><h1 class="text-2xl font-bold mb-4">Login</h1><form class="flex flex-col items-center"><div class="flex flex-col m-4 text-xl"><label for=email>Email</label><input id=email type=email class="border-2 w-96 h-10"required></div><div class="flex flex-col m-4 text-xl"><label for=password>Password</label><input id=password type=password class="border-2 w-96 h-10"required></div><button class="border-2 rounded px-10 py-2 mt-6 text-lg">Login');const q=()=>{let s="",i="";const[x,a]=f(!1),[r,n]=f(""),p=S(),h=async l=>{l.preventDefault(),a(!0),n("");const e=await fetch(`${P}/api/v1/users/login`,{method:"POST",headers:{"Content-Type":"text/plain"},body:`${s}
${i}`,credentials:"include"});e.ok?(localStorage.setItem("accessToken",await e.text()),p("/home")):(a(!1),n(await e.text()))};return(()=>{var l=j(),e=l.firstChild,u=e.firstChild,o=u.nextSibling,d=o.firstChild,b=d.firstChild,v=b.nextSibling,c=d.nextSibling,$=c.firstChild,w=$.nextSibling,_=c.nextSibling;return o.addEventListener("submit",h),v.addEventListener("change",t=>{s=t.target.value}),w.addEventListener("change",t=>{i=t.target.value}),g(e,y(C,{get when(){return r()!==""},get children(){var t=T(),L=t.firstChild;return g(L,r),t}}),null),E(()=>_.disabled=x()),l})()};export{q as default};
