import{c as m,u as C,t as h,i,a as x,S as E,b as D,d as P}from"./index-CkHjE-rj.js";import{A as T}from"./components-ZFfahQsh.js";var j=h('<div class="flex justify-center items-center border-2 p-4 m-6 w-96 h-12"><p>'),k=h(`<div class="flex justify-center items-center w-screen h-screen"><div class="flex flex-col items-center border-2 p-10"style=width:40rem;height:32rem><h1 class="text-2xl font-bold mb-4">Login</h1><form class="flex flex-col items-center"><div class="flex flex-col m-4 text-xl"><label for=email>Email</label><input id=email type=email class="border-2 w-96 h-10"required></div><div class="flex flex-col m-4 text-xl"><label for=password>Password</label><input id=password type=password class="border-2 w-96 h-10"required></div><button class="border-2 rounded px-10 py-2 mt-4 text-lg">Login</button></form><div class=mt-6><span class=text-lg>Don't have an account? `);const I=()=>{let a="",r="";const[p,n]=m(!1),[o,d]=m(""),u=C(),b=async l=>{l.preventDefault(),n(!0),d("");const e=await fetch(`${P}/api/v1/users/login`,{method:"POST",headers:{"Content-Type":"text/plain"},body:`${a}
${r}`,credentials:"include"});e.ok?(localStorage.setItem("accessToken",await e.text()),u("/home")):(n(!1),d(await e.text()))};return(()=>{var l=k(),e=l.firstChild,v=e.firstChild,s=v.nextSibling,c=s.firstChild,$=c.firstChild,_=$.nextSibling,f=c.nextSibling,w=f.firstChild,S=w.nextSibling,L=f.nextSibling,g=s.nextSibling;return g.firstChild,s.addEventListener("submit",b),_.addEventListener("change",t=>{a=t.target.value}),S.addEventListener("change",t=>{r=t.target.value}),i(g,x(T,{class:"text-lg text-blue-700",href:"/register",children:"Sign up"}),null),i(e,x(E,{get when(){return o()!==""},get children(){var t=j(),y=t.firstChild;return i(y,o),t}}),null),D(()=>L.disabled=p()),l})()};export{I as default};
